.SILENT:

CC = g++ -Wall -m64
C11FLAGS = -std=c++11 
DSTDIR = ./Programme
CLASSE = ./Classes
OBJ = ./Obj
ECRAN = $(HOME)/Ecran

WIN = ./Classes/WindowSDL

OBJS = WindowSDL.o WindowSDLexception.o WindowSDLimage.o WindowSDLclick.o

PROGRAMS = TestWindowSDL Program
all: $(PROGRAMS) 

# --- Test4 ---
Program: Couleur Point Figure Pixel Ligne Rectangle Ecran Test4 
	echo "[**] Creation de Program"
	$(CC) $(C11FLAGS) -o $(DSTDIR)/Test4 $(OBJ)/Couleur.o $(OBJ)/Point.o $(OBJ)/Figure.o $(OBJ)/Pixel.o $(OBJ)/Ligne.o $(OBJ)/Rectangle.o $(OBJ)/Ecran.o $(OBJ)/Test4.o $(OBJ)/WindowSDL.o $(OBJ)/WindowSDLexception.o $(OBJ)/WindowSDLimage.o $(OBJ)/WindowSDLclick.o -lpthread -lSDL



Rectangle: $(CLASSE)/Rectangle.cpp
	echo "[+] Creation de Rectangle.o"
	$(CC) $(C11FLAGS) $(CLASSE)/Rectangle.cpp -c -o $(OBJ)/Rectangle.o

Ligne: $(CLASSE)/Ligne.cpp
	echo "[+] Creation de Ligne.o"
	$(CC) $(C11FLAGS) $(CLASSE)/Ligne.cpp -c -o $(OBJ)/Ligne.o
	

Couleur: $(CLASSE)/Couleur.cpp
	echo "[+] Creation de Couleur.o"
	$(CC) $(C11FLAGS) $(CLASSE)/Couleur.cpp -c -o $(OBJ)/Couleur.o

Point: $(CLASSE)/Point.cpp  
	echo "[+] Creation de Point.o"
	$(CC) $(C11FLAGS) $(CLASSE)/Point.cpp -c -o $(OBJ)/Point.o

Figure: $(CLASSE)/Figure.cpp
	echo "[+] Creation de Figure.o"
	$(CC) $(C11FLAGS) $(CLASSE)/Figure.cpp -c -o $(OBJ)/Figure.o

Pixel: $(CLASSE)/Pixel.cpp
	echo "[+] Creation de Pixel.o"
	$(CC) $(C11FLAGS) $(CLASSE)/Pixel.cpp -c -o $(OBJ)/Pixel.o


Test4: $(CLASSE)/Test4.cpp
	echo "[+] Creation de Test4.o"
	$(CC) $(C11FLAGS) $(CLASSE)/Test4.cpp -c -o $(OBJ)/Test4.o

Ecran: $(ECRAN)/Ecran.cpp
	echo "[+] Creation de Ecran.o"
	$(CC) $(C11FLAGS) -D SUN $(ECRAN)/Ecran.cpp -c -o $(OBJ)/Ecran.o

# --- TestWindowSDL --- 
TestWindowSDL:	$(WIN)/TestWindowSDL.cpp $(OBJS)
	$(CC) $(WIN)/TestWindowSDL.cpp -o $(DSTDIR)/TestWindowSDL $(OBJ)/WindowSDL.o $(OBJ)/WindowSDLexception.o $(OBJ)/WindowSDLimage.o $(OBJ)/WindowSDLclick.o -lpthread -lSDL
	echo "[**] Creation de TestWindowSDL"

WindowSDL.o:	$(WIN)/WindowSDL.cpp $(WIN)/WindowSDL.h
		$(CC) $(C11FLAGS) $(WIN)/WindowSDL.cpp -c -o $(OBJ)/WindowSDL.o
		echo "[->] Creation de WindowSDL.o ..."		

WindowSDLexception.o:	$(WIN)/WindowSDLexception.cpp $(WIN)/WindowSDLexception.h
		$(CC) $(C11FLAGS) $(WIN)/WindowSDLexception.cpp -c -o $(OBJ)/WindowSDLexception.o
		echo "[->] Creation de WindowSDLexception.o ..."		

WindowSDLclick.o:	$(WIN)/WindowSDLclick.cpp $(WIN)/WindowSDLclick.h
		$(CC) $(C11FLAGS) $(WIN)/WindowSDLclick.cpp -c -o $(OBJ)/WindowSDLclick.o
		echo "[->] Creation  de WindowSDLclick.o ..."		
	
WindowSDLimage.o:	$(WIN)/WindowSDLimage.cpp $(WIN)/WindowSDLimage.h
		$(CC) $(C11FLAGS) $(WIN)/WindowSDLimage.cpp -c -o $(OBJ)/WindowSDLimage.o
		echo "[->] Creation de WindowSDLimage.o ..."		

# --- Nettoyage ---
clean:
	@rm -f $(OBJS) core

clobber:	clean
	@rm -f tags $(PROGRAMS)

